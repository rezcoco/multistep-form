(()=>{const e=document.querySelector(".btns"),t=(document.querySelector(".btn"),document.querySelector(".next-btn")),n=document.querySelector(".confirm-btn"),l=document.querySelector(".b-btn"),s=document.querySelector(".change-btn"),c=document.querySelectorAll(".form"),o=document.querySelector(".form__thx"),a=document.querySelectorAll(".step"),r={0:{name:"Arcade",price:{monthly:9,yearly:90}},1:{name:"Advanced",price:{monthly:12,yearly:120}},2:{name:"Pro",price:{monthly:15,yearly:150}}},i={0:{name:"Online service",price:{monthly:1,yearly:10}},1:{name:"Larger storage",price:{monthly:2,yearly:20}},2:{name:"Customizable profile",price:{monthly:2,yearly:20}}},d={1:{},2:{},3:{},billing:"monthly",total:0};function m(e,t){return"yearly"===t?`$${e}/yr`:`$${e}/mo`}function u(){let e=0;for(num of Object.keys(d[3]))e+=Number(i[num].price[d.billing]);return e}const y=document.getElementById("name"),L=document.getElementById("email"),v=document.getElementById("phone"),p=document.querySelectorAll(".required.danger");function g(){return""===y.value?(y.classList.add("danger"),p[0].classList.remove("none"),!1):(y.classList.remove("danger"),p[0].classList.add("none"),!0)}function h(){return""===L.value?(L.classList.add("danger"),p[1].classList.remove("none"),!1):L.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(L.classList.remove("danger"),p[1].classList.add("none"),!0):(v.classList.add("danger"),p[1].textContent="Please fill a valid email address",p[1].classList.remove("none"),!1)}function b(){return""===v.value?(v.classList.add("danger"),p[2].classList.remove("none"),!1):v.value.match(/^\+?[1-9][0-9]{7,14}$/)?(v.classList.remove("danger"),p[2].classList.add("none"),!0):(v.classList.add("danger"),p[2].textContent="Please fill a valid phone number",p[2].classList.remove("none"),!1)}y.addEventListener("blur",g),L.addEventListener("blur",h),v.addEventListener("blur",b);const q=document.querySelector(".toggle"),S=document.querySelectorAll(".trial"),f=document.querySelectorAll(".plan__price"),_=document.querySelectorAll(".add-ons__price"),k=document.querySelectorAll(".summary__add-ons-price"),x=document.querySelector(".summary__total-billing");q.addEventListener("click",(()=>{q.classList.toggle("checked");for(let e=0;e<f.length;e++){const t=S[e],n=f[e],l=_[e],s=k[e];t.classList.toggle("hidden"),q.classList.contains("checked")?(n.textContent=m(r[e].price.yearly,"yearly"),l.textContent=m(i[e].price.yearly,"yearly"),s.textContent=m(i[e].price.yearly,"yearly"),x.textContent="Total (per year)"):(n.textContent=m(r[e].price.monthly,"monthly"),l.textContent=m(i[e].price.monthly,"monthly"),s.textContent=m(i[e].price.monthly,"monthly"),x.textContent="Total (per month)")}}));document.querySelectorAll(".add-ons").forEach((function(e){e.addEventListener("click",(function(){!function(e,t){const n=e.querySelector(".checkbox");n.classList.toggle("checked"),n.classList.contains("checked")?d[3][t]=1:delete d[3][t]}(this,this.querySelector(".left").getAttribute("data-value")),function(e){e.querySelector(".checkmark").classList.toggle("none")}(this)}))})),t.addEventListener("click",(()=>{const s=document.querySelector(".step.active"),o=document.querySelector('input[name="plan"]:checked').value;let i=Number(s.getAttribute("data-step"))-1;i<4&&Array(g(),h(),b()).every(Boolean)&&(l.classList.remove("hidden"),e.classList.add("sp-bt"),d[1].name=y.value,d[1].email=L.value,d[1].phone=v.value,q.classList.contains("checked")?d.billing="yearly":d.billing="monthly",1===i&&(d[2].name=r[o].name,d[2].price=r[o].price[d.billing],d.total=Number(d[2].price)),a[i].classList.remove("active"),a[i+1].classList.add("active"),c[i].classList.add("none"),c[i+1].classList.remove("none"),i++),3===i&&(t.classList.add("none"),n.classList.remove("none"),function(){const e=document.querySelectorAll(".summary__add-ons-wrapper"),t=Object.keys(d[3]);if(t.length>0)for(ao of t)e[ao].classList.remove("none")}(),function(){const e=document.querySelector(".summary__plan-type"),t=document.querySelector(".summary__plan-price"),n=document.querySelector(".summary__total-price"),l=d.billing,s=l[0].toUpperCase()+l.slice(1);e.textContent=`${d[2].name} (${s})`,t.textContent=m(d[2].price,d.billing),n.textContent=m(d.total+u(),d.billing)}())})),l.addEventListener("click",(()=>{const s=document.querySelector(".step.active");let o=Number(s.getAttribute("data-step"))-1;o&&o>0&&(a[o-1].classList.add("active"),a[o].classList.remove("active"),c[o-1].classList.remove("none"),c[o].classList.add("none"),o--),0===o&&(l.classList.add("hidden"),e.classList.remove("sp-bt")),o<3&&(t.classList.remove("none"),n.classList.add("none"))})),n.addEventListener("click",(()=>{d.total+=u(),c[3].classList.add("none"),o.classList.remove("none"),e.remove()})),s.addEventListener("click",(()=>{c[3].classList.add("none"),c[1].classList.remove("none"),a[3].classList.remove("active"),a[1].classList.add("active"),t.classList.remove("none"),n.classList.add("none")}))})();